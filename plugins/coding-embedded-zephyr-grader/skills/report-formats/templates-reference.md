# Templates Reference

Complete templates for each output format with styling guidelines and customization options.

## Markdown Template

### Single Submission Template

```markdown
# Zephyr RTOS Grading Report

**Submission:** {submission_path}
**Board:** {board}
**Date:** {timestamp}
**KLOC:** {kloc}

---

## Summary

**Aggregate Score:** {aggregate_score} / 100
**Grade:** {letter_grade}
**Status:** {pass_fail}

{summary_paragraph}

---

## Dimension Scores

| Dimension | Score | Weight | Weighted | Grade | Status |
|-----------|-------|--------|----------|-------|--------|
| Compilability | {score} | {weight}% | {weighted} | {grade} | {status} |
| Static Analysis | {score} | {weight}% | {weighted} | {grade} | {status} |
| Zephyr Correctness | {score} | {weight}% | {weighted} | {grade} | {status} |
| Resource Efficiency | {score} | {weight}% | {weighted} | {grade} | {status} |
| Architecture | {score} | {weight}% | {weighted} | {grade} | {status} |
| Code Metrics | {score} | {weight}% | {weighted} | {grade} | {status} |
| Style | {score} | {weight}% | {weighted} | {grade} | {status} |
| Completeness | {score} | {weight}% | {weighted} | {grade} | {status} |
| Documentation | {score} | {weight}% | {weighted} | {grade} | {status} |

---

## Detailed Findings

### Compilability ({score}/100)

**Build Result:** {success/failure}
**Warnings:** {count}
**Errors:** {count}

{details}

**Key Issues:**
- {issue_1}
- {issue_2}

---

### Static Analysis ({score}/100)

**Defect Density:** {density} defects/KLOC
**Total Defects:** {count}

**Breakdown by Severity:**
- Errors: {count}
- Warnings: {count}
- Style: {count}

**Top Issues:**
1. {issue_1} ({count} occurrences)
2. {issue_2} ({count} occurrences)

---

{... repeat for each dimension ...}

---

## Recommendations

### High Priority (Critical)
1. {recommendation_1}
2. {recommendation_2}

### Medium Priority (Important)
1. {recommendation_1}
2. {recommendation_2}

### Low Priority (Nice to Have)
1. {recommendation_1}
2. {recommendation_2}

---

## Tool Versions

- Zephyr SDK: {version}
- cppcheck: {version}
- clang-tidy: {version}
- lizard: {version}
- cloc: {version}

---

Generated by Zephyr Grader v1.0
```

### A/B Comparison Template

```markdown
# Zephyr RTOS A/B Comparison Report

**Date:** {timestamp}
**Board:** {board}

---

## Summary

| Metric | Submission A | Submission B | Winner |
|--------|--------------|--------------|--------|
| Aggregate Score | {score_a} | {score_b} | {winner} |
| Grade | {grade_a} | {grade_b} | {winner} |
| KLOC | {kloc_a} | {kloc_b} | {winner} |

**Conclusion:** {winner_summary}

---

## Dimension Comparison

| Dimension | Submission A | Submission B | Delta | Winner |
|-----------|--------------|--------------|-------|--------|
| Compilability | {score_a} | {score_b} | {delta} | {winner} |
| Static Analysis | {score_a} | {score_b} | {delta} | {winner} |
| Zephyr Correctness | {score_a} | {score_b} | {delta} | {winner} |
| Resource Efficiency | {score_a} | {score_b} | {delta} | {winner} |
| Architecture | {score_a} | {score_b} | {delta} | {winner} |
| Code Metrics | {score_a} | {score_b} | {delta} | {winner} |
| Style | {score_a} | {score_b} | {delta} | {winner} |
| Completeness | {score_a} | {score_b} | {delta} | {winner} |
| Documentation | {score_a} | {score_b} | {delta} | {winner} |

---

## Winner Analysis

**Submission {winner} is superior overall.**

**Largest advantages:**
1. {dimension}: +{delta} points
2. {dimension}: +{delta} points
3. {dimension}: +{delta} points

**Areas where {loser} is better:**
1. {dimension}: {delta} points
2. {dimension}: {delta} points

---

## Detailed Scorecards

### Submission A

{full_scorecard_a}

### Submission B

{full_scorecard_b}

---

Generated by Zephyr Grader v1.0
```

---

## JSON Schema

### Complete Schema Definition

```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["version", "timestamp", "mode", "aggregate", "grade"],
  "properties": {
    "version": {
      "type": "string",
      "description": "Schema version",
      "const": "1.0"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp"
    },
    "mode": {
      "type": "string",
      "enum": ["single", "comparison"],
      "description": "Grading mode"
    },
    "submission": {
      "type": "object",
      "properties": {
        "path": {"type": "string"},
        "board": {"type": "string"},
        "kloc": {"type": "number", "minimum": 0}
      }
    },
    "dimensions": {
      "type": "object",
      "patternProperties": {
        "^[a-z_]+$": {
          "type": "object",
          "properties": {
            "score": {"type": "number", "minimum": 0, "maximum": 100},
            "weight": {"type": "number", "minimum": 0, "maximum": 1},
            "weighted_score": {"type": "number"},
            "grade": {"type": "string", "pattern": "^[A-F][+-]?$"},
            "details": {"type": "object"}
          }
        }
      }
    },
    "aggregate": {
      "type": "number",
      "minimum": 0,
      "maximum": 100,
      "description": "Weighted aggregate score"
    },
    "grade": {
      "type": "string",
      "pattern": "^[A-F][+-]?$",
      "description": "Letter grade"
    },
    "summary": {
      "type": "string",
      "description": "Human-readable summary"
    },
    "recommendations": {
      "type": "object",
      "properties": {
        "critical": {"type": "array", "items": {"type": "string"}},
        "important": {"type": "array", "items": {"type": "string"}},
        "nice_to_have": {"type": "array", "items": {"type": "string"}}
      }
    },
    "tools": {
      "type": "object",
      "description": "Tool versions",
      "patternProperties": {
        "^[a-z_]+$": {"type": "string"}
      }
    }
  }
}
```

---

## HTML Template

### Base Template with CSS

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zephyr Grading Report</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        .summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .summary-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .summary-card h3 {
            margin: 0 0 10px 0;
            color: #666;
            font-size: 14px;
            text-transform: uppercase;
        }
        .summary-card .value {
            font-size: 32px;
            font-weight: bold;
            color: #333;
        }
        .grade-A { color: #10b981; }
        .grade-B { color: #3b82f6; }
        .grade-C { color: #f59e0b; }
        .grade-D { color: #ef4444; }
        .grade-F { color: #dc2626; }
        table {
            width: 100%;
            background: white;
            border-collapse: collapse;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        th {
            background-color: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
        }
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }
        tr:last-child td {
            border-bottom: none;
        }
        .winner {
            background-color: #d1fae5;
            font-weight: bold;
        }
        .loser {
            background-color: #fee2e2;
        }
        .delta-positive { color: #10b981; }
        .delta-negative { color: #ef4444; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Zephyr RTOS Grading Report</h1>
        <p><strong>Submission:</strong> {submission_path}</p>
        <p><strong>Board:</strong> {board} | <strong>Date:</strong> {timestamp}</p>
    </div>

    <div class="summary">
        <div class="summary-card">
            <h3>Aggregate Score</h3>
            <div class="value grade-{grade_class}">{aggregate_score}</div>
        </div>
        <div class="summary-card">
            <h3>Grade</h3>
            <div class="value grade-{grade_class}">{letter_grade}</div>
        </div>
        <div class="summary-card">
            <h3>Lines of Code</h3>
            <div class="value">{kloc}K</div>
        </div>
    </div>

    <h2>Dimension Scores</h2>
    <table>
        <thead>
            <tr>
                <th>Dimension</th>
                <th>Score</th>
                <th>Weight</th>
                <th>Weighted</th>
                <th>Grade</th>
            </tr>
        </thead>
        <tbody>
            {dimension_rows}
        </tbody>
    </table>

    <h2>Detailed Findings</h2>
    {detailed_findings_sections}

    <h2>Recommendations</h2>
    {recommendations_list}
</body>
</html>
```

### Comparison Template (Additional Styles)

```css
.comparison-table {
    width: 100%;
}
.comparison-table th:nth-child(1) { width: 30%; }
.comparison-table th:nth-child(2) { width: 20%; text-align: center; }
.comparison-table th:nth-child(3) { width: 20%; text-align: center; }
.comparison-table th:nth-child(4) { width: 15%; text-align: center; }
.comparison-table th:nth-child(5) { width: 15%; text-align: center; }
```

---

## Styling Guidelines

### Color Scheme

| Element | Color | Usage |
|---------|-------|-------|
| Grade A | #10b981 (green) | Excellent scores |
| Grade B | #3b82f6 (blue) | Good scores |
| Grade C | #f59e0b (amber) | Acceptable scores |
| Grade D | #ef4444 (red) | Poor scores |
| Grade F | #dc2626 (dark red) | Failing scores |
| Winner | #d1fae5 (light green) | A/B comparison winner |
| Loser | #fee2e2 (light red) | A/B comparison loser |

### Typography

- Headings: 'Segoe UI', sans-serif
- Body: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif
- Monospace (code): 'Courier New', Courier, monospace

### Responsive Design

- Max width: 1200px
- Grid: Auto-fit columns with min 200px
- Mobile breakpoint: 768px (single column summary cards)
